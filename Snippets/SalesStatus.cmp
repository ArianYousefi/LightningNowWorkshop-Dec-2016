<aura:component implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="fields" type="String[]" default="['Id', 'Status__c']"/>
    <aura:attribute name="property" type="Property__c" /> 
    <aura:attribute name="steps" type="Object[]" />
    <aura:attribute name="stepIndex" type="Integer" />
    <aura:attribute name="currentStep" type="String" />
    
    <c:Picklist sobject="Property__c" picklistfield="Status__c" values="{!v.steps}" />
    
    <force:recordPreview aura:id="propertyService"
                         recordId="{!v.recordId}"
                         targetRecord="{!v.property}"
                         fields="{!v.fields}"
                         recordUpdated="{!c.propertyChanged}"
                         mode="EDIT"/>
    
    <div class="slds-grid">
        <div class="slds-tabs--path" role="application">
            <ul class="slds-tabs--path__nav" role="tablist">
                <aura:iteration items="{!v.steps}" var="item" indexVar="i">
                    <li class="{! 'slds-tabs--path__item ' + (i&lt;v.stepIndex ? 'slds-is-complete' : (i==v.stepIndex ? 'slds-is-current' : 'slds-is-incomplete'))}" id="{!item}" aura:id="{!item}" data-step="{!item}" role="presentation" onclick="{!c.stepUiChanged}">
                        <a class="slds-tabs--path__link" id="tabs-path-426" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" href="javascript:void(0);" aria-live="assertive">
                            <span class="slds-tabs--path__stage">
                                <lightning:icon iconName="utility:check" size="x-small" class="process-icon"/>
                                <span class="slds-assistive-text">Stage Complete </span>
                            </span>
                            <span class="slds-tabs--path__title">{!item}</span>
                        </a>
                    </li>
                </aura:iteration>                
            </ul>
        </div>     
        <lightning:button variant="brand" label="Mark Status Complete" class="slds-path__mark-complete slds-no-flex slds-m-horizontal--small" onclick="{! c.handleClick }" />        
    </div>
</aura:component>